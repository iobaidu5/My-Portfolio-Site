window.addEventListener("load", () => {
    window.setTimeout(() => {
      (document.querySelector(".animate").style.animation = "none"),
        (document.querySelector(".animate").style.color = "white"),
        (document.querySelector(".animate").innerHTML =
          "Loaded <i style='margin-left: .7rem' class='fa fa-arrow-right'></>"),
        document.querySelector("body").classList.add("animated");
    }, 700),
    window.setTimeout(() => {
      scene.play(),
        document.querySelector(".wrapper-container").classList.remove("hidden"),
        (document.querySelector(".preloader-container").style.transform =
          "translateX(-110vw)"),
        document
          .querySelector(".preloader-container")
          .classList.add("finished");
    }, 1200),
    window.setTimeout(() => {
      document.querySelectorAll(".color-change-a").forEach((e) => {
        (e.style.color = "orange"), (e.style.transition = "1s all ease-out");
      }),
        (document.querySelector(".skip").style.color = "black"),
        document.querySelectorAll(".color-change-p").forEach((e) => {
          (e.style.color = "black"), (e.style.transition = "1s all ease-out");
        });
    }, 7500);
  const t = (e) => {
    function t() {
      r < o.length && ((e.innerHTML += o.charAt(r)), r++, setTimeout(t, 22));
    }
    const o = e.innerHTML;
    e.innerHTML = "";
    var r = 0;
    t();
  };
  document.querySelector(".skip").addEventListener("click", () => {
    document.querySelector(".wrapper-container").classList.add("finished"),
      window.setTimeout(() => {
        document.querySelector(".main-content").classList.remove("hidden"),
          t(document.querySelector(".profession-heading"));
      }, 200),
      (document.querySelector("body").style.animation = "none"),
      (document.querySelector("body").style.backgroundColor =
        "var(--background-color)"),
      document.querySelector(".main-content").classList.remove("hidden");
  }),
    window.setTimeout(() => {
      document.querySelector(".wrapper-container").classList.add("finished"),
        window.setTimeout(() => {
          document.querySelector(".main-content").classList.remove("hidden"),
            t(document.querySelector(".profession-heading"));
        }, 200);
    }, 18e3);
}),
  document.querySelector(".mode-toggle").addEventListener("click", () => {
    document.querySelector("body").classList.toggle("dark-mode"),
      document.querySelector(".mode-toggle").classList.toggle("fa-lightbulb-o");
  }),
  document.querySelector(".mobile-nav-toggle").addEventListener("click", () => {
    document.querySelector(".mobile-nav-toggle").classList.toggle("active"),
      document.querySelector(".mobile-menu").classList.toggle("active"),
      document.querySelector(".navbar").classList.toggle("transparent");
  });
let options = {},
  revealElements = document.querySelectorAll(".text-reveal-trigger"),
  reveal = new IntersectionObserver((e) => {
    e.forEach((e) => {
      e.intersectionRatio > 0 && e.target.classList.add("reveal-text");
    });
  });
revealElements.forEach((e) => {
  reveal.observe(e);
});
let opacityrevealElements = document.querySelectorAll(".opacity-reveal"),
  opacityReveal = new IntersectionObserver((e) => {
    e.forEach((e) => {
      e.intersectionRatio > 0 && e.target.classList.add("appear");
    });
  }, options);
opacityrevealElements.forEach((e) => {
  opacityReveal.observe(e);
});
let filterButtons = document.querySelectorAll(".filter-button");
filterButtons.forEach((e) => {
  e.addEventListener("click", () => {
    filterButtons.forEach((e) => {
      e.classList.remove("active");
    }),
      e.classList.add("active");
  });
});
let navLinks = document.querySelectorAll(".nav-item");
document.querySelector(".main-content").addEventListener("scroll", (e) => {
  let t = window.scrollY;
  console.log(t),
    navLinks.forEach((e) => {
      let o = document.querySelector(e.hash);
      o.offsetTop <= t && o.offsetTop + o.offsetHeight > t
        ? e.classList.add("active")
        : e.classList.remove("active");
    });
});
let lightSwitch = new Audio();
lightSwitch.src = "./assets/switch.mp3";
let mobileNavs = document.querySelectorAll(".mobile-nav-item"),
  Navs = document.querySelectorAll(".nav-item");
mobileNavs.forEach((e) => {
  e.addEventListener("click", () => {
    document.querySelector(".mobile-nav-toggle").classList.toggle("active"),
      document.querySelector(".mobile-menu").classList.toggle("active"),
      document.querySelector(".navbar").classList.toggle("transparent"),
      document
        .querySelector(e.getAttribute("target"))
        .scrollIntoView({ behavior: "smooth", block: "start" });
  });
}),
  Navs.forEach((e) => {
    e.addEventListener("click", () => {
      document
        .querySelector(e.getAttribute("target"))
        .scrollIntoView({ behavior: "smooth", block: "start" });
    });
  }),
  document.querySelector(".scroll-top").addEventListener("click", () => {
    document
      .querySelector(".picture")
      .scrollIntoView({ behavior: "smooth", block: "start" });
  });
